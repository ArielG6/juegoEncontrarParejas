<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>¡Mirá la siguiente imagen!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <main>
       <div class="container text-center">
        <div class="row">
          <div class="col">
                <div>
                    <p id="0" class="pos">X</p>
                </div>
          </div>
          <div class="col">
                <div>
                    <p id="1" class="pos">X</p>
                </div>
          </div>
        </div>

        <div class="row">
            <div class="col">
                <div>
                    <p id="2" class="pos">X</p>
                </div>
            </div>
            <div class="col">
                <div>
                    <p id="3" class="pos">X</p>
                </div>
            </div>
        </div>

        <div class="row">
          <div class="col">
              <div>
                  <p id="4" class="pos">X</p>
              </div>
          </div>
          <div class="col">
              <div>
                  <p id="5" class="pos">X</p>
              </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
              <div>
                  <p id="6" class="pos">X</p>
              </div>
          </div>
          <div class="col">
              <div>
                  <p id="7" class="pos">X</p>
              </div>
          </div>
        </div>
      </div>
      <div><p id="final">Selecciona parejas</p></div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
      <script>
        const parejas = [1,2,3,4,1,2,3,4];
        
        for (let i = parejas.length -1; i > 0; i--) {
          let j = Math.floor(Math.random() * (i+1));
          let k = parejas[i];
          parejas[i] = parejas[j];
          parejas[j] = k;
        }

        let listado = parejas.length;
        let figurai = "";
        let figuraj = "";
        progreso = [];

        function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

      $(document).ready(function(){
        $(".pos").click(function(){
          $(this).text(parejas[this.id]);
          setTimeout(
          () =>{
            for (let i=0; i < listado-1; i++){
            figurai = "#" + i;
            if($(figurai).text() != "X" && !progreso.includes(figurai)){
              for (let j=i+1; j < listado; j++){
                figuraj = "#" + j;
                if($(figuraj).text() != "X" && !progreso.includes(figuraj)){
                  if ($(figurai).text() == $(figuraj).text()){
                  progreso.push(figurai);
                  progreso.push(figuraj);
                  if (progreso.length == parejas.length){
                    $("#final").text("Ganaste!");
                  }
                } else {
                  $(figurai).text("X");
                  $(figuraj).text("X");
                }
                }
              }
            }   
          }    
          }
          ,500);
        });
      });
      
      </script>
    </main>    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script> 
  </body>
</html>
<!-- 
$(document).ready(function(){
        $(".pos").click(function(){
          $(this).text(parejas[this.id]);
          finJuego[this.id]= 1;
          fin = finJuego[0]+finJuego[1]+finJuego[2]+finJuego[3];
        });

    finJuego[this.id]= true;
            for (let x in finJuego){
                if (x == true){
                    fin = true;
                }
            }
        
$(document).ready(function(){
                $("#fin").text("Ganaste!");
            });
        document.getElementById("final").innerHTML ="Ganaste";
        
        
        parejas[0] = 20;
        parejas[1] = 2;
        parejas[2] = 14;
        parejas[3] = 1;
        parejas[4] = 1;
        parejas[5] = 20;
        parejas[6] = 14;
        parejas[7] = 2;

        
-->